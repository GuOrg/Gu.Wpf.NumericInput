<Window x:Class="Gu.Wpf.NumericInput.Demo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:demo="clr-namespace:Gu.Wpf.NumericInput.Demo"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Title="MainWindow"
        Width="525"
        Height="350"
        d:DataContext="{d:DesignInstance demo:MainVm}"
        mc:Ignorable="d">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <ListBox x:Name="ListBox"
                 Grid.Column="0"
                 ItemsSource="{Binding Vms}" />
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <GroupBox Grid.Row="0"
                      Grid.Column="0"
                      HorizontalAlignment="Left"
                      VerticalAlignment="Top"
                      HorizontalContentAlignment="Left"
                      VerticalContentAlignment="Top"
                      Header="{Binding SelectedItem,
                                       ElementName=ListBox}">
                <ContentPresenter Content="{Binding SelectedItem, ElementName=ListBox}" ContentTemplateSelector="{StaticResource BoxTemplateSelector}" />
            </GroupBox>
            <ContentPresenter Grid.Row="1"
                              Grid.Column="0"
                              Content="{Binding SelectedItem,
                                                ElementName=ListBox}"
                              ContentTemplate="{StaticResource SettingsDataTemplate}"
                              IsEnabled="{Binding SelectedItem.Configurable,
                                                  ElementName=ListBox}" />
            <ContentPresenter Grid.Row="1"
                              Grid.Column="1"
                              Content="{Binding SelectedItem,
                                                ElementName=ListBox}"
                              ContentTemplate="{StaticResource VmDataTemplate}" />
        </Grid>

        <!--
            <StackPanel>
            <GroupBox Header="Default settings">
            <Grid>
            <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <numericInput:DoubleBox x:Name="RawBox"
            Grid.Row="0"
            Grid.Column="0"
            Value="{Binding DoubleValue}" />
            <Expander Grid.Row="1"
            Grid.Column="0"
            Header="Debug info">
            <ContentPresenter Content="{Binding ., ElementName=RawBox}" ContentTemplate="{StaticResource DebugInfoTemplate}" />
            </Expander>
            </Grid>
            </GroupBox>
            
            
            <FrameworkElement Height="20" />
            
            <GroupBox Header="Tweaked">
            <StackPanel>
            <numericInput:DoubleBox x:Name="TweakedBox"
            HorizontalAlignment="Left"
            AllowSpinners="{Binding IsChecked,
            ElementName=AllowSpinners}"
            DecimalDigits="{Binding Text,
            ElementName=Decimals}"
            Increment="{Binding Text,
            ElementName=Increment}"
            IsReadOnly="{Binding IsChecked,
            ElementName=IsReadOnly}"
            MaxValue="{Binding Text,
            ElementName=Max}"
            MinValue="{Binding Text,
            ElementName=Min}"
            RegexPattern="{Binding Text,
            ElementName=Regex}"
            Suffix="{Binding Text,
            ElementName=Suffix}"
            Value="{Binding DoubleValue,
            UpdateSourceTrigger=LostFocus}" />
            <TextBox IsReadOnly="True" Text="{Binding Value, ElementName=TweakedBox, UpdateSourceTrigger=PropertyChanged, StringFormat='Box Value: {0}'}" />
            <TextBox IsReadOnly="True" Text="{Binding DoubleValue, UpdateSourceTrigger=PropertyChanged, StringFormat='Vm Value: {0}'}" />
            </StackPanel>
            
            </GroupBox>
        -->
    </Grid>
</Window>
